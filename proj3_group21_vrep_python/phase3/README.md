# ENPM 661 - A* Implementation on Rigid Robot - Project 3 (Phase-2)  - Group 8

### Description

This program uses A* algorithm to find the optimal path in a given map for a Rigid robot.
The user can provide an initial state and a goal state,
and the algorithm will output visualization of the 
cells explored and the optimal path in reaching the goal.

--------------------------------------

### Libraries

The solver uses the following Python libraries:

| Name      | Usage                                                             |
| --------- | ----------------------------------------------------------------- | 
| cv2       | OpenCV for visualization                                          |
| numpy     | For scientific computing                                          |
| sys       | Outputting to stdout                                              |
| math      | To use the mathematical functions                                 |
| argparse  | Parsing input arguments to the program                            |
| datetime  | To get the runtime of the project		                            |
| io        | To output path information     		                            |

--------------------------------------

### Execution and Explanation
The program is run by executing `python -u Astar_rigid.py`

If your python command is different, for example python3, adjust accordingly.
This script requires python 3.5+ to run.

The obstacleMap.py file creates a map of obstacles which are generated by geometrical calculations.
Collisions are handled in the obstacleMap.py file.
The circles simply use the distance from the center to the point, while the squares check to see if the point
lies within the top, bottom, left, and right bounds.
The main file consists of a robot class that uses the A* algorithm.

--------------------------------------

### Arguments
 
The program takes the x and y coordinates of the initial and goal cells separately as the arguments, as well as
theta value for the initial cell.
A clearance can optionally be specified with `--clearance` (defaults to 0.08, which is 8 cm).
Also, to change the value of the weight for the heuristic, use `--hw value`.  For example,
use `--hw 3.0` to multiply the heuristic function (which is the Euclidean distance) by 3.0.
WARNING: Setting the heuristic to < 1.2 is much slower.  Set to <= 1.0 for an admissible heuristic.
Default value is 1.0 when omitted.

Additional help with using the program can be found by running the command `python Astar_rigid.py --help`.

NOTE:  This program outputs an mp4 file with the name `FinalAnimation.mp4` in the working directory.
If generating this mp4 file does not work, alternatively you can append the flag `--play` at the end
of the command to use openCV's built-in imshow command.
The mp4 file may still work even if there is an error message in the console related to FFmpeg.
Preferably omit the `--play` flag if the mp4 file is playable.

Required arguments are in the following order:
        
        start_x start_y start_angle goal_x goal_y rpm1 rpm2

Some examples of valid commands (the top one used for the deliverable):

        python3 -u Astar_rigid.py 3 9 0 7 0.5 270 300
        
        python3 -u Astar_rigid.py 5 3 180 5 7 270 300 --hw 1.0
        
        python3 -u Astar_rigid.py 8 1 180 0.5 9.5 270 300 --clearance 0.05

--------------------------------------


### Output

While the program is running, it will output the visualization of the cells being explored.
Once a solution has been found, the program outputs the cells explored using the vectors.
The program also outputs an optimal sequence of actions to get
from the initial to the goal point.

### Video

To produce our video submission, we used the following command:

        python3 -u Astar_rigid.py 0.5 0.5 60 9.5 9.5 270 300

### Github

Our repository is at the following URL, under the `phase3` branch:

https://github.com/trevian2345/ENPM661_Project3/tree/phase3